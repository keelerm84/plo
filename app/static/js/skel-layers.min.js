/* skel-layers.js vx.x | (c) n33 | n33.co | MIT licensed */
skel.registerPlugin("layers",function(e){function cn(e,r,i){var o,u;this.id=e,this.index=i,this[n]={breakpoints:T,states:T,position:T,side:T,animation:gt,orientation:gt,width:0,height:0,zIndex:this.index,html:"",hidden:P,exclusive:Dt,resetScroll:Dt,resetForms:Dt,swipeToClose:Dt,clickToClose:P},t._.extend(this[n],r),this[U]=t._.newDiv(this[n][Ht]),this[U].id=e,this[U]._layer=this,this[s]=T,this[rt]=T,this[Et]=T,this[Xt]=P,u=t._.cacheElement(this.id,this[U],Z,1),u.onAttach=function(){var e=this.object._layer;e[nt]()||e.init(),e.resume()},u.onDetach=function(){var e=this.object._layer;e.suspend()},this[n].states?(o=t._[an](this[n].states),t._[Rt](o,function(e){t._.addCachedElementToState(t._.sd+o[e],u)})):(this[n].breakpoints?o=t._[an](this[n].breakpoints):o=t._.breakpointList,t._[Rt](o,function(e){t._.addCachedElementToBreakpoint(o[e],u)}))}var t,n="config",r="_skel_layers_translateOrigin",i="cache",s="$element",o="_skel_layers_translate",u="_skel_layers_resetForms",f="_skel_layers_resume",l="activeWrapper",c="_skel_layers_promote",h="exclusiveLayer",p="moveToInactiveWrapper",d="_skel_layers_demote",v="moveToActiveWrapper",m="setTimeout",g="right",y="bottom",b="useActive",w="deactivate",E="width",S="css",x="scrollTop",T=null,N="center",C="_skel_layers_suspend",k="position",L="prototype",A="left",O="wrapper",M="skel-layers-layer-z-index",_="children",D="_skel_layers_init",P=!1,H="inactiveWrapper",B="top",j="height",F="deviceType",I="length",q="touchstart.lock click.lock scroll.lock",R="transform",U="element",z="stopPropagation",W="resetForms",X="overflow-x",V="preventDefault",$="window",J="recalcW",K="-webkit-",Q="padding-bottom",G="skel-layers-exclusiveActive",Y="-webkit-tap-highlight-color",Z="skel_layers_inactiveWrapper",et="hidden",tt="animation",nt="isInitialized",rt="touchPosX",it="originalEvent",st="skel-layers-layer-index",ot="z-index",ut="skel-layers-layer-position",at="unlockView",ft="animations",lt='<div id="skel-layers-tmp-',ct="_skel_layers_initializeCell",ht="registerLocation",pt="resize.lock scroll.lock",dt="activate",vt="undefined",mt="orientationchange.lock",gt="none",yt="positions",bt="speed",wt="find",Et="touchPosY",St="_skel_layers_expandCell",xt="-moz-",Tt="_skel_layers_hasParent",Nt="attr",Ct="layers",kt="append",Lt="isTouch",At="-ms-",Ot="lockView",Mt="#skel-layers-tmp-",_t="DOMReady",Dt=!0,Pt="auto",Ht="html",Bt="_skel_layers_scrollPos",jt="transformBreakpoints",Ft="visible",It="_skel_layers_xcss",qt="-o-",Rt="iterate",Ut="rgba(0,0,0,0)",zt="cell-size",Wt="appendTo",Xt="active",Vt="vars",$t="-",Jt="body",Kt="px",Qt="click",Gt="recalcH",Yt="touches",Zt="side",en="isVisible",tn="overflow-",nn="relative",rn="htmlbody",sn="addClass",on="android",un="#",an="getArray",fn="transformTest",ln="*";return typeof e==vt?P:(e.fn[Tt]=function(){return e(this).parents()[I]>0},e.fn[c]=function(r){var i,s,o;if(this[I]>1){for(i=0;i<this[I];i++)e(this[i])[c](r);return e(this)}return s=e(this),isNaN(o=parseInt(s.data(st)))&&(o=0),s.data(M,s[S](ot))[S](ot,t[n].baseZIndex+o+(r?r:1)),s},e.fn[d]=function(){var t,n;if(this[I]>1){for(t=0;t<this[I];t++)e(this[t])[d]();return e(this)}return n=e(this),n[S](ot,n.data(M)).data(M,""),n},e.fn._skel_layers_xcssValue=function(t,n){return e(this)[S](t,n)[S](t,xt+n)[S](t,K+n)[S](t,qt+n)[S](t,At+n)},e.fn._skel_layers_xcssProperty=function(t,n){return e(this)[S](t,n)[S](xt+t,n)[S](K+t,n)[S](qt+t,n)[S](At+t,n)},e.fn[It]=function(t,n){return e(this)[S](t,n)[S](xt+t,xt+n)[S](K+t,K+n)[S](qt+t,qt+n)[S](At+t,At+n)},e.fn[u]=function(){var t=e(this);return e(this)[wt]("form").each(function(){this.reset()}),t},e.fn[ct]=function(){var t=e(this);t[Nt]("class").match(/(\s+|^)([0-9]+)u(\s+|$)/)&&t.data(zt,parseInt(RegExp.$2))},e.fn[St]=function(){var t=e(this),n=t.parent(),r=12;n[_]().each(function(){var t=e(this),n=t[Nt]("class");n&&n.match(/(\s+|^)([0-9]+)u(\s+|$)/)&&(r-=parseInt(RegExp.$2))}),r>0&&(t[ct](),t[S](E,(t.data(zt)+r)/12*100+"%"))},cn[L][yt]={"top-left":{v:B,h:A,side:A},"top-right":{v:B,h:g,side:g},top:{v:B,h:N,side:B},"top-center":{v:B,h:N,side:B},"bottom-left":{v:y,h:A,side:A},"bottom-right":{v:y,h:g,side:g},bottom:{v:y,h:N,side:y},"bottom-center":{v:y,h:N,side:y},left:{v:N,h:A,side:A},"center-left":{v:N,h:A,side:A},right:{v:N,h:g,side:g},"center-right":{v:N,h:g,side:g}},cn[L][ft]={none:{activate:function(e){var t=e[n],r=e[s];r[x](0)[c](t.zIndex).show(),t[W]&&r[u](),e[v]()},deactivate:function(e){var t=e[n],r=e[s];r.hide()[d](),e[p]()}},overlayX:{activate:function(e){var r=e[n],i=e[s];i[x](0)[c](r.zIndex)[S](r[Zt],$t+t[J](t._[b](r[E]))+Kt).show(),r[W]&&i[u](),t[Ot]("x"),e[v](),window[m](function(){i[o]((r[Zt]==g?$t:"")+t[J](t._[b](r[E])),0)},50)},deactivate:function(e){var i=e[n],o=e[s];o[wt](ln).blur(),o[r](),window[m](function(){t[at]("x"),e[p](),o[d]().hide()},t[n][bt]+50)}},overlayY:{activate:function(e){var r=e[n],i=e[s];i[x](0)[c](r.zIndex)[S](r[Zt],$t+t[J](t._[b](r[j]))+Kt).show(),r[W]&&i[u](),t[Ot]("y"),e[v](),window[m](function(){i[o](0,(r[Zt]==y?$t:"")+t[J](t._[b](r[j])))},50)},deactivate:function(e){var i=e[n],o=e[s];o[wt](ln).blur(),o[r](),window[m](function(){t[at]("y"),e[p](),o[d]().hide()},t[n][bt]+50)}},pushX:{activate:function(e){var r=e[n],a=e[s],f=t[i][O].add(t[i][l][_]());a[x](0)[S](r[Zt],$t+t[J](t._[b](r[E]))+Kt).show(),r[W]&&a[u](),f[c](),t[Ot]("x"),e[v](),window[m](function(){a.add(f)[o]((r[Zt]==g?$t:"")+t[J](t._[b](r[E])),0)},50)},deactivate:function(e){var o=e[n],u=e[s],a=t[i][O].add(t[i][l][_]());u[wt](ln).blur(),u.add(a)[r](),window[m](function(){t[at]("x"),u.hide(),e[p](),a[d]()},t[n][bt]+50)}},pushY:{activate:function(e){var r=e[n],a=e[s],f=t[i][O].add(t[i][l][_]());a[x](0)[S](r[Zt],$t+t[Gt](t._[b](r[j]))+Kt).show(),r[W]&&a[u](),t[Ot]("y"),e[v](),window[m](function(){a.add(f)[o](0,(r[Zt]==y?$t:"")+t[Gt](t._[b](r[j])))},50)},deactivate:function(e){var o=e[n],u=e[s],a=t[i][O].add(t[i][l][_]());u[wt](ln).blur(),u.add(a)[r](),window[m](function(){t[at]("y"),u.hide(),e[p]()},t[n][bt]+50)}},revealX:{activate:function(e){var r=e[n],a=e[s],f=t[i][O].add(t[i][l][_]());a[x](0).show(),r[W]&&a[u](),f[c](),t[Ot]("x"),e[v](),window[m](function(){f[o]((r[Zt]==g?$t:"")+t[J](t._[b](r[E])),0)},50)},deactivate:function(e){var o=e[n],u=e[s],a=t[i][O].add(t[i][l][_]());u[wt](ln).blur(),a[r](),window[m](function(){t[at]("x"),u.hide(),a[d](),e[p]()},t[n][bt]+50)}}},cn[L][v]=function(){t[i][l][kt](this[s])},cn[L][p]=function(){if(!this[s][Tt]())return;t[i][H][kt](this[s])},cn[L][w]=function(){var e,r;if(!this[Xt]){t[i][H][kt](this[U]);return}e=this[n],r=t._[b](e[tt]),r in this[ft]||(r=gt),this[ft][r][w](this),e[et]&&e.exclusive&&t[i][h]===this&&(t[i][Jt].removeClass(G),t[i][h]=T),this[Xt]=P},cn[L][dt]=function(){var e,r,o,u;if(this[Xt]){t[i][l][kt](this[U]);return}e=this[n],r=t._[b](e[tt]),o=this[s],o[S](E,t._[b](e[E]))[S](j,t._[b](e[j])),t._[Vt][F]=="ios"&&e[j]=="100%"&&!e[et]&&o[S](j,"-webkit-calc("+t._[b](e[j])+" + 70px)"),u=this[yt][e[k]],o[sn]("skel-layer-"+e[k]).data(ut,e[k]);switch(u.v){case B:o[S](B,0);break;case y:o[S](y,0);break;case N:o[S](B,"50%")[S]("margin-top",$t+t.getHalf(e[j]))}switch(u.h){case A:o[S](A,0);break;case g:o[S](g,0);break;case N:o[S](A,"50%")[S]("margin-left",$t+t.getHalf(e[E]))}this[ft][r][dt](this),e[et]&&e.exclusive&&(t[i][Jt][sn](G),t[i][h]=this),this[Xt]=Dt},cn[L][nt]=function(){return this[s]!==T},cn[L][en]=function(){return this[s].is(":visible")},cn[L].resume=function(r){if(!this[nt]())return;this[s][wt](ln).each(function(){t.parseResume(e(this))}),this[n][et]||this[dt](r)},cn[L].suspend=function(){if(!this[nt]())return;this[s][r](),this[s][wt](ln).each(function(){t.parseSuspend(e(this))}),this[Xt]&&this[w]()},cn[L].init=function(){var r=this[n],o=e(this[U]),u=this;o[D](),o[wt](ln).each(function(){t.parseInit(e(this))}),o[sn]("skel-layer").data(st,this.index)[S](ot,t[n].baseZIndex)[S](k,"fixed")[S]("-ms-overflow-style","-ms-autohiding-scrollbar")[S]("-webkit-overflow-scrolling","touch").hide();switch(r.orientation){case"vertical":o[S]("overflow-y",Pt);break;case"horizontal":o[S](X,Pt);break;case gt:default:}if(!r[k]||!(r[k]in this[yt]))r[k]="top-left";r[Zt]||(r[Zt]=this[yt][r[k]][Zt]);if(!r[tt]||typeof r[tt]!="object"&&!(r[tt]in this[ft]))r[tt]=gt;r.clickToClose&&o[wt]("a")[S](Y,Ut).on("click.skel-layers",function(r){var i,s,o=e(this);if(o.hasClass("skel-layers-ignore"))return;r[V](),r[z](),u[w]();if(o.hasClass("skel-layers-ignoreHref"))return;i=o[Nt]("href"),s=o[Nt]("target"),typeof i!==vt&&i!=""&&window[m](function(){s=="_blank"&&t._[Vt][F]!="wp"?window.open(i):window.location.href=i},t[n][bt]+10)}),t._[Vt][F]=="ios"&&o[wt]("input,select,textarea").on("focus",function(n){var r=e(this);n[V](),n[z](),window[m](function(){var e=t[i][$][Bt],n=t[i][$][x]()-e;t[i][$][x](e),o[x](o[x]()+n),r.hide(),window[m](function(){r.show()},0)},100)}),t._[Vt][Lt]&&o.on("touchstart",function(e){u[rt]=e[it][Yt][0].pageX,u[Et]=e[it][Yt][0].pageY}).on("touchmove",function(e){var t,n,i,s,a,f,l;if(u[rt]===T||u[Et]===T)return;t=u[rt]-e[it][Yt][0].pageX,n=u[Et]-e[it][Yt][0].pageY,i=o.outerHeight(),s=o.get(0).scrollHeight-o[x]();if(r[et]&&r.swipeToClose){a=P,f=20,l=50;switch(r[Zt]){case A:a=n<f&&n>-1*f&&t>l;break;case g:a=n<f&&n>-1*f&&t<-1*l;break;case B:a=t<f&&t>-1*f&&n>l;break;case y:a=t<f&&t>-1*f&&n<-1*l}if(a)return u[rt]=T,u[Et]=T,u[w](),P}if(o[x]()==0&&n<0||s>i-2&&s<i+2&&n>0)return P}),this[s]=o},t={config:{baseZIndex:1e4,transform:Dt,transformBreakpoints:T,transformTest:T,speed:250,layers:{}},cache:{layers:{},html:T,body:T,htmlbody:T,window:T,wrapper:T,inactiveWrapper:T,activeWrapper:T,exclusiveLayer:T},eventType:Qt,getBaseFontSize:function(){return t._[Vt].IEVersion<9?16.5:parseFloat(getComputedStyle(t[i][Jt].get(0)).fontSize)},recalc:function(e,n){var r=t._.parseMeasurement(e),i;switch(r[1]){case"%":i=Math.floor(n*(r[0]/100));break;case"em":i=t.getBaseFontSize()*r[0];break;default:case Kt:i=r[0]}return i},recalcW:function(n){return t.recalc(n,e(window)[E]())},recalcH:function(n){return t.recalc(n,e(window)[j]())},getHalf:function(e){var t=parseInt(e);return typeof e=="string"&&e.charAt(e[I]-1)=="%"?Math.floor(t/2)+"%":Math.floor(t/2)+Kt},parseSuspend:function(e){var t=e.get(0);t[C]&&t[C]()},parseResume:function(e){var t=e.get(0);t[f]&&t[f]()},parseInit:function(n){var r,s,o=n.get(0),u=n[Nt]("data-action"),a=n[Nt]("data-args"),l,c;u&&a&&(a=a.split(","));switch(u){case"toggleLayer":case"layerToggle":n[S](Y,Ut)[S]("cursor","pointer"),r=function(n){n[V](),n[z]();if(t[i][h])return t[i][h][w](),P;var r=e(this),s=t[i][Ct][a[0]];s[en]()?s[w]():s[dt]()},t._[Vt][F]==on||t._[Vt][F]=="wp"?n.on(Qt,r):n.on(t.eventType,r);break;case"navList":l=e(un+a[0]),r=l[wt]("a"),s=[],r.each(function(){var t=e(this),n,r;n=Math.max(0,t.parents("li")[I]-1),r=t[Nt]("href"),s.push('<a class="link depth-'+n+'"'+(typeof r!==vt&&r!=""?' href="'+r+'"':"")+'><span class="indent-'+n+'"></span>'+t.text()+"</a>")}),s[I]>0&&n[Ht]("<nav>"+s.join("")+"</nav>");break;case"copyText":l=e(un+a[0]),n[Ht](l.text());break;case"copyHTML":l=e(un+a[0]),n[Ht](l[Ht]());break;case"moveElementContents":l=e(un+a[0]),o[f]=function(){l[_]().each(function(){n[kt](e(this))})},o[C]=function(){n[_]().each(function(){l[kt](e(this))})},o[f]();break;case"moveElement":l=e(un+a[0]),o[f]=function(){e(lt+l[Nt]("id")+'" />').insertBefore(l),n[kt](l)},o[C]=function(){e(Mt+l[Nt]("id")).replaceWith(l)},o[f]();break;case"moveCell":l=e(un+a[0]),c=e(un+a[1]),o[f]=function(){e(lt+l[Nt]("id")+'" />').insertBefore(l),n[kt](l),l[S](E,Pt),c&&c[St]()},o[C]=function(){e(Mt+l[Nt]("id")).replaceWith(l),l[S](E,""),c&&c[S](E,"")},o[f]();break;default:}},lockView:function(e){t[i][$][Bt]=t[i][$][x](),t._[Vt][Lt]&&t[i][rn][S](tn+e,et),t[i][O].on(q,function(e){e[V](),e[z](),t[i][h]&&t[i][h][w]()}),t[i][$].on(mt,function(e){t[i][h]&&t[i][h][w]()}),t._[Vt][Lt]||t[i][$].on(pt,function(e){t[i][h]&&t[i][h][w]()})},unlockView:function(e){t._[Vt][Lt]&&t[i][rn][S](tn+e,Ft),t[i][O].off(q),t[i][$].off(mt),t._[Vt][Lt]||t[i][$].off(pt)},initLayers:function(){var r,s,o,u=1;t._[Rt](t[n][Ct],function(r){var s;if(!t[n][Ct][r][Ht]&&(s=e(un+r))[I]==0)return;o=new cn(r,t[n][Ct][r],u++),t[i][Ct][r]=o,s&&(s[_]()[Wt](o[U]),s.remove())})},initTransforms:function(){if(t[n][R])e.fn[r]=function(){return e(this)[o](0,0)},e.fn[o]=function(t,n){return e(this)[S](R,"translate("+t+"px, "+n+"px)")},e.fn[D]=function(){return e(this)[S]("backface-visibility",et)[S]("perspective","500")[It]("transition","transform "+t[n][bt]/1e3+"s ease-in-out")};else{var s,u=[];t[i][$].resize(function(){if(t[n][bt]!=0){var e=t[n][bt];t[n][bt]=0,window[m](function(){t[n][bt]=e,u=[]},e)}}),e.fn[r]=function(){for(var r=0;r<this[I];r++){var s=this[r],o=e(s);u[s.id]&&o.animate(u[s.id],t[n][bt],"swing",function(){t._[Rt](u[s.id],function(e){o[S](e,u[s.id][e])}),t[i][Jt][S](X,Ft),t[i][O][S](E,Pt)[S](Q,0)})}return e(this)},e.fn[o]=function(r,s){var o,f,l,c;r=parseInt(r),s=parseInt(s),r!=0?(t[i][Jt][S](X,et),t[i][O][S](E,t[i][$][E]())):l=function(){t[i][Jt][S](X,Ft),t[i][O][S](E,Pt)},s<0?t[i][O][S](Q,Math.abs(s)):c=function(){t[i][O][S](Q,0)};for(o=0;o<this[I];o++){var h=this[o],p=e(h),d;if(!u[h.id])if(d=cn[L][yt][p.data(ut)]){u[h.id]={};switch(d.v){case N:case B:u[h.id][B]=parseInt(p[S](B));break;case y:u[h.id][y]=parseInt(p[S](y))}switch(d.h){case N:case A:u[h.id][A]=parseInt(p[S](A));break;case g:u[h.id][g]=parseInt(p[S](g))}}else d=p[k](),u[h.id]={top:d[B],left:d[A]};a={},t._[Rt](u[h.id],function(e){var n;switch(e){case B:n=t[Gt](u[h.id][e])+s;break;case y:n=t[Gt](u[h.id][e])-s;break;case A:n=t[J](u[h.id][e])+r;break;case g:n=t[J](u[h.id][e])-r}a[e]=n}),p.animate(a,t[n][bt],"swing",function(){l&&l(),c&&c()})}return e(this)},e.fn[D]=function(){return e(this)[S](k,"absolute")}}},initObjects:function(){t[i][$]=e(window),t._[_t](function(){t[i][Ht]=e(Ht),t[i][Jt]=e(Jt),t[i][rn]=e("html,body"),t[i][Jt].wrapInner('<div id="skel-layers-wrapper" />'),t[i][O]=e("#skel-layers-wrapper"),t[i][O][S](k,nn)[S](A,"0")[S](g,"0")[S](B,"0")[D](),t[i][H]=e('<div id="skel-layers-inactiveWrapper" />')[Wt](t[i][Jt]),t[i][H][S](j,"100%"),t[i][l]=e('<div id="skel-layers-activeWrapper" />')[Wt](t[i][Jt]),t[i][l][S](k,nn),t._[ht](Z,t[i][H][0]),t._[ht]("skel_layers_activeWrapper",t[i][l][0]),t._[ht]("skel_layers_wrapper",t[i][O][0]),e("[autofocus]").focus()})},initIncludes:function(){e(".skel-layers-include").each(function(){t.parseInit(e(this))})},init:function(){t[n][fn]&&(t[n][R]=t[n][fn]());if(t[n][R]){if(t._[Vt][F]==on&&t._[Vt].deviceVersion<4||t._[Vt][F]=="wp")t[n][R]=P;t._[Vt].IEVersion<10&&(t[n][R]=P),t[n][jt]&&!t._.hasActive(t._[an](t[n][jt]))&&(t[n][R]=P)}t.eventType=t._[Vt][Lt]?"touchend":Qt,t.initObjects(),t.initTransforms(),t._[_t](function(){t.initLayers(),t.initIncludes(),t._.updateState(),t.refresh()})},refresh:function(){e(".skel-layers-fixed")[D]()[Wt](t[i][l])},activate:function(e){t._[_t](function(){t[i][Ct][e][dt]()})},deactivate:function(e){t._[_t](function(){t[i][Ct][e][w]()})},toggle:function(e){t._[_t](function(){var n=t[i][Ct][e];n[en]()?n[w]():n[dt]()})}},t)}(jQuery));